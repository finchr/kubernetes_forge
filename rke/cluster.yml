# If you intened to deploy Kubernetes in an air-gapped environment,
# please consult the documentation on how to configure custom RKE images.
nodes:
- address: 172.28.128.11
  port: 22
  internal_address: 172.28.128.111
  role:
  - controlplane
  - etcd
  hostname_override: master1
  user: vagrant
  docker_socket: /var/run/docker.sock
  ssh_key_path: .kitchen/kitchen-vagrant/master1*/.vagrant/machines/default/virtualbox/private_key
- address: 172.28.128.21
  port: 22
  internal_address: 172.28.128.121
  role:
  - worker
  hostname_override: worker1
  user: vagrant
  docker_socket: /var/run/docker.sock
  ssh_key_path: .kitchen/kitchen-vagrant/worker1*/.vagrant/machines/default/virtualbox/private_key
  labels:
    type: load_balancer
- address: 172.28.128.22
  port: 22
  internal_address: 172.28.128.122
  role:
  - worker
  hostname_override: worker2
  user: vagrant
  docker_socket: /var/run/docker.sock
  ssh_key_path: .kitchen/kitchen-vagrant/worker2*/.vagrant/machines/default/virtualbox/private_key
  labels:
    type: worker
services:
  etcd:
    snapshot: true
    creation: 6h
    retention: 24h
  kube-controller:
    cluster_cidr: 10.42.0.0/16
    service_cluster_ip_range: 10.43.0.0/16
  kubelet:
    cluster_dns_server: 10.43.0.10
    fail_swap_on: false
  kube-api:
    service_cluster_ip_range: 10.43.0.0/16
    service_node_port_range: 1024-32767
network:
  plugin: canal
authentication:
  strategy: x509
system_images:
  etcd: rancher/coreos-etcd:v3.2.18
  alpine: rancher/rke-tools:v0.1.15
  nginx_proxy: rancher/rke-tools:v0.1.15
  cert_downloader: rancher/rke-tools:v0.1.15
  kubernetes_services_sidecar: rancher/rke-tools:v0.1.15
  kubedns: rancher/k8s-dns-kube-dns-amd64:1.14.10
  dnsmasq: rancher/k8s-dns-dnsmasq-nanny-amd64:1.14.10
  kubedns_sidecar: rancher/k8s-dns-sidecar-amd64:1.14.10
  kubedns_autoscaler: rancher/cluster-proportional-autoscaler-amd64:1.0.0
  kubernetes: rancher/hyperkube:v1.11.5-rancher1
  flannel: rancher/coreos-flannel:v0.10.0
  flannel_cni: rancher/coreos-flannel-cni:v0.3.0
  calico_node: rancher/calico-node:v3.1.3
  calico_cni: rancher/calico-cni:v3.1.3
  calico_controllers: ""
  calico_ctl: rancher/calico-ctl:v2.0.0
  canal_node: rancher/calico-node:v3.1.3
  canal_cni: rancher/calico-cni:v3.1.3
  canal_flannel: rancher/coreos-flannel:v0.10.0
  wave_node: weaveworks/weave-kube:2.1.2
  weave_cni: weaveworks/weave-npc:2.1.2
  pod_infra_container: rancher/pause-amd64:3.1
  ingress: rancher/nginx-ingress-controller:0.16.2-rancher1
  ingress_backend: rancher/nginx-ingress-controller-defaultbackend:1.4
  metrics_server: rancher/metrics-server-amd64:v0.2.1
ssh_key_path: ~/.ssh/fcs-devops
ssh_agent_auth: false
authorization:
  mode: rbac
ignore_docker_version: true
ingress:
  provider: none
addons_include: 
  - ./services/echoheaders.yaml
  - ./services/nginx-ingress/namespace.yaml
  - ./vagrant/ingress-tls-default.yaml
  - ./vagrant/keepalived-configmap.yaml
  - ./services/keepalived_deploy.yaml
  - ./services/tiller_deploy.yaml
